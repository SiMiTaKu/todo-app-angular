<div *ngIf="todo && !title && !body && !category && !state">
  {{setTodoData()}}
</div>
<div class = "menu">
  <div class = "menu__item">
    <div class = "menu__item--title">
      Detail / Edit
    </div>
  </div>
  <div class="menu__item--button">
    <a routerLink = "/todos/">
      <input type = "submit" value = "←" class = "menu_button">
    </a>
  </div>
</div>

<div class = "detail" *ngIf="todo">
  <div class = "detail__content">
    <h2>Detail  No.{{todo.id}}</h2>
    <div class = "detail__content--title">
      <div class="item">Title：</div>
      <div class="item-right" *ngIf="title">{{title.value}}</div>
    </div>
    <div class = "detail__content--body">
      <div class="item">Body：</div>
      <div class="item-right" *ngIf="body">{{body.value}}</div>
    </div>
    <div class = "detail__content--category">
      <div class="item">Category：</div>
      <div class="item-right" *ngIf="category">{{getThisCategory(category.value)}}</div>
    </div>
    <div class = "detail__content--state">
      <div class="item">State：</div>
      <div class="item-right" *ngIf="state">{{getThisState(state.value)}}</div>
    </div>
  </div>
  <div class="detail__content">
    <form class = "todo_Form" *ngIf="todoEditForm" [formGroup]="todoEditForm" (submit)="save()">
      <h2>Edit Form</h2>
      <div class = "todo_Form__content">
        <div class="item">Title:</div>
        <div class="item-right">
          <input
            type            = "text"
            name            = "title"
            placeholder     = "Title"
            class           = "input_title"
            formControlName = "todoTitle">
          <div class="warn" *ngIf="title && title.errors?.['required']">
            ※Title is requirement.
          </div>
        </div>
      </div>
      <div class = "todo_Form__content">
        <div class="item">Body</div>
        <div class="item-right">
          <textarea
            name = "body"
            placeholder = "Body"
            formControlName = "todoBody">
          </textarea>
          <div class="warn" *ngIf="body && body.errors?.['required']">
            ※Body is requirement.
          </div>
        </div>
      </div>
      <div class = "todo_Form__content">
        <div class="item">Category:</div>
        <div class="item-right">
          <div class = "item-right__category">
            <div class="todo_Form__content--category" *ngFor="let category of categories" >
              <input
                type        = "radio"
                value       = "{{category.id}}"
                name        = "todoCategory"
                id          = "{{category.name}}"
                formControlName = "todoCategory"
              ><label for="{{category.name}}">{{category.name}}</label>
              <!-- id と for を同じにすることでラベルとラジオボタンを関連づけられる-->
            </div>
            <div class="warn" *ngIf="category && category.errors?.['required']">
              ※Category is requirement.
            </div>
          </div>
        </div>
      </div>
      <div class = "todo_Form__content">
        <div class="item">Status:</div>
        <div class="item-right">
          <div class = "item-right__state">
            <div class="todo_Form__content--state" *ngFor="let state of states" >
              <input
                type            = "radio"
                value           = "{{state.id}}"
                name            = "todoState"
                id              = "{{state.status}}"
                formControlName = "todoState"
              ><label for = "{{state.status}}">{{state.status}}</label>
            </div>
            <div class="warn" *ngIf="state && state.errors?.['required']">
              ※Status is requirement.
            </div>
          </div>
        </div>
      </div>
      <div class = "todo_Form__content">
        <input [disabled]="todoEditForm.invalid" type = "submit" (click) = "save()" value = "update" class = "submit_button">
      </div>
    </form>
  </div>
</div>
